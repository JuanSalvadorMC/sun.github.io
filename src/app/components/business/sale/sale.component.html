<div class="main-container">
  <p>¿Necesitas Traspasar tu Negocio?
    Para Transpasar tu negocio te ponemos en contacto con la gente interesada.
  </p>
  <p>
    ¿Como Funciona?
    Ingresa los datos y caracteristicas basicas de tu negocio para que miles de personas se interesen en tu negocio,
    solicitando contacto contigo, conociendo a los interesados, podras dar mas detalles y cerrar el trato que esperas.
  </p>
</div>

<form [formGroup]="formSale">
  <div class="main-container">
    <div class="form-row">
      <div class="form-group col-md-4">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Nombre del Negocio*</mat-label>
          <input matInput placeholder="Nombre de tu negocio" formControlName="nombre">
        </mat-form-field>
      </div>
      <div class="form-group col-md-4">
        <mat-form-field  appearance="outline" class="example-full-width">
          <mat-label>Tipo de Negocio*</mat-label>
          <mat-select formControlName="tipoNegocio">
            <mat-option value="option">Option</mat-option>
            <mat-option value="option">Option1</mat-option>
            <mat-option value="option">Option2</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="form-group col-md-4">
        <mat-form-field hintLabel="Max 60 characters" appearance="outline" class="example-full-width">
          <mat-label>¿Ubicación del Negocio?*</mat-label>
          <input matInput #input maxlength="60" placeholder="Jalisco" formControlName="ubicacion">
        </mat-form-field>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-4">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Monto Total del Traspaso*</mat-label>
          <input matInput placeholder="$ 100,000.00" formControlName="monto">
        </mat-form-field>
      </div>
      <div class="form-group col-md-4">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Venta Mensual promedio*</mat-label>
          <input matInput placeholder="$ 10,000.00" formControlName="ventaMensualPromedio">
        </mat-form-field>
      </div>
      <div class="form-group col-md-4">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Gastos de Operación Mensual </mat-label>
          <input matInput placeholder="$ 5,000.00" formControlName="gastosOperacionMensual">
        </mat-form-field>
      </div>
    </div>
    <div class="form-gruop">
      <mat-form-field hintLabel="Max 200 characters" appearance="outline" class="example-full-width">
        <mat-label>Descripcion de tu negocio*</mat-label>
        <textarea matInput #input maxlength="200"  placeholder="Describe detalladamente" formControlName="descripcion"></textarea>
      </mat-form-field>
    </div>
    <div class="form-gruop">
      <mat-form-field hintLabel="Max 60 characters" appearance="outline" class="example-full-width">
        <mat-label>¿Quiénes y cuántos son tus principales competidores?*</mat-label>
        <textarea matInput #input maxlength="60" placeholder="Describe detalladamente" formControlName="competidores"></textarea>
      </mat-form-field>
    </div>
    <div class="w-100 mb-4">
      <div class="form-group">
          <!-- <label for="file" class="labels">Selecciona tu nueva imagen:</label> -->
          <input #fileInput name="files[]" style="display: none;" type="file" (change)="onFileSelected($event)"
              accept="application/jpeg">
          <button mat-raised-button type="button" class="btn-upload" (click)="fileInput.click()">
              Subir imagen
              <mat-icon class="ml-2">cloud_upload</mat-icon>
          </button>
      </div>
    </div>
  </div>

  <div class="table-container" *ngIf="imagesArray.length > 0">
    <table class="table table-bordered table-hover text-center">
        <thead>
            <tr>
                <th scope="col"></th>
                <th scope="col">Imagen</th>
                <th scope="col">Nombre</th>
            </tr>
        </thead>
        <tbody formArrayName="imagenes" *ngFor="let item of formSale['controls'].imagenes['controls']; let i=index;">
            <tr [formGroupName]="i">
                <td>
                    <button mat-icon-button color="warn" (click)="deleteImage(i)" class="btn-eliminar">
                        <mat-icon>add_circle</mat-icon>
                    </button>
                </td>
                <td><img [src]="'data:'+item.value.type+';base64,'+item.value.imgBase" class="img-fluid"></td>
                <td>{{ item.value.name }}</td>
            </tr>
        </tbody>
    </table>

</div>

  <div class="text-lg-right">
    <button mat-stroked-button class="btn-colorRe" (click)="consultar()">Publicar</button>
  </div>
</form>