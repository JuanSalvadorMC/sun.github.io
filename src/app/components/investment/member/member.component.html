<div class="main-container">
  <h3>Encuentra el mejor negocio</h3>
</div>

<form [formGroup]="formMember">
  <div class="main-container">
    <div class="form-row">
      <div class="form-group col-md-6">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Tipo de Negocio*</mat-label>
          <mat-select formControlName="tipoNegocio">
            <mat-option [value]="tipoNegocio.tipoNegocio" *ngFor="let tipoNegocio of catTipoNegocio">
              {{tipoNegocio.tipoNegocio}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="form-group col-md-6">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Tipo de Socio*</mat-label>
          <mat-select formControlName="tipoSocio">
            <mat-option [value]="tipoSocio.tipoSocio" *ngFor="let tipoSocio of catTipoSocio">{{tipoSocio.tipoSocio}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>


      <div class="form-group col-md-6">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Estado*</mat-label>
          <mat-select formControlName="estado" (selectionChange)="obtenerMunicipios()">
            <mat-option [value]="estado.nombreEstado" *ngFor="let estado of catEstados">{{estado.nombreEstado}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="form-group col-md-6">
        <mat-form-field appearance="outline" class="example-full-width">
          <mat-label>Municipio*</mat-label>
          <mat-select formControlName="municipio">
            <mat-option [value]="municipio.nombreMunicipio" *ngFor="let municipio of catMunicipios">
              {{municipio.nombreMunicipio}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>


      <ng-container *ngIf="formMember.get('tipoNegocio').value == 'Otros'">
        <div class="form-group">
          <mat-form-field hintLabel="Max 10 characters" appearance="outline" class="example-full-width">
            <mat-label>Fitros Avanzados </mat-label>
            <textarea matInput placeholder="Describe detalladamente" formControlName="ubicacion"></textarea>
          </mat-form-field>
        </div>
      </ng-container>
      <div class="form-group  col-md-4">
        <mat-form-field hintLabel="Max 10 characters" appearance="outline" class="example-full-width">
          <mat-label>Calle</mat-label>
          <input matInput #input maxlength="60" placeholder="Calle" formControlName="ubicacion">
        </mat-form-field>
      </div>
  
      <div class="form-group col-md-4">
        <mat-form-field hintLabel="Max 10 characters" appearance="outline" class="example-full-width">
          <mat-label>Inversión Minima</mat-label>
  
          <input matInput #input maxlength="10" placeholder="$ 5,000.00" formControlName="precioHasta">
        </mat-form-field>
      </div>


      <div class="form-group col-md-4">
        <mat-form-field hintLabel="Max 10 characters" appearance="outline" class="example-full-width">
          <mat-label>Inversión Maxima</mat-label>
  
          <input matInput #input maxlength="10" placeholder="$ 5,000.00" formControlName="precioHasta">
        </mat-form-field>
      </div>
      
      
    </div>

    
    


  </div>
  <div class="text-lg-right">
    <button mat-stroked-button class="btn-colorRe" (click)="buscarResultadosLiquidez()">Ver Resultados </button>

  </div>
</form>



<!-- MAIN          BUSCADOR SALVADOR                 MAIN-->

<div class="m-5 buscador-liquides sin" *ngIf="mostrar">
  <div class="m-4 sin">
    <!-- INICIALIZACION DEL BUSCADOR -->
    <div class="row animated fadeIn fast" *ngIf="resultadoBusquedaLiquidez.length == 0 && vacio ==false">
      <div class="col-md-12 mb-4">
        <div class="alert alert-info" role="alert">
          No existen resultados que coincidan con la busqueda.
        </div>
      </div>
    </div>

    <!-- INGRESA RESULTADOS -->

    <div class="row animated fadeIn fast" *ngIf="vacio">
      <div class="col-md-12 mb-4">
        <div class="alert alert-info" role="alert">
          Ingresa parametros para iniciar una busqueda.
        </div>
      </div>
    </div>



    <!--   BUSQUEDAS CONCRETAS -->
    <div class="row m-4 container sin">
      <div class="col-md-4 mb-4" *ngFor="let resultados of resultadoBusquedaLiquidez">
        <mat-card class="example-card container">
          <mat-card-header class="container sin" style="width: 95%;">
           <!--  <div mat-card-avatar class="example-header-image"><img [src]="resultados.imagenes[0]" alt=""
                style="width: 40px; height: 40px; border-radius: 25px;"></div> -->
            

          </mat-card-header>
          <mat-card-title style="font-size: 100% ;">{{resultados.tipoNegocio}}</mat-card-title>

            <mat-card-subtitle style="font-size: 100% ;">{{resultados.tipoSocio}}</mat-card-subtitle>
          <mat-card-title style="font-size: 100% ;"> <b>Nombre: </b>{{resultados.nombre}}</mat-card-title>
          <img mat-card-image [src]="resultados.imagenes[0]" alt="Photo of a Shiba Inu" style="height: 210px;">
          <mat-card-content>
            <p matLine>

              <mat-card-subtitle style="font-size: 90% ;"> <b>Monto de Inversion: </b> {{resultados.monto}}
              </mat-card-subtitle>
            </p>
            <p matLine>
              <mat-card-subtitle style="font-size: 90% ;"> <b>Municipio/Delegacion: </b>{{resultados.municipio}}
              </mat-card-subtitle>
            </p>
            <p matLine>
              <mat-card-subtitle style="font-size: 90% ;"> <b>Estado: </b>{{resultados.estado}}</mat-card-subtitle>
            </p>

          </mat-card-content>
          <mat-card-actions>
            <button mat-button (click)="perfil(resultados.id)">Contactar</button>
          </mat-card-actions>
        </mat-card>
      </div>

    </div>

  </div>

</div>